---
// src/components/Certifications.astro
import { CV_DATA } from '../data/cv-data.js';
import { Icon } from 'astro-icon/components';

const { certifications } = CV_DATA;
---
<section id="certificaciones">
    <h2 class="text-2xl mb-6">Certificaciones</h2>
    <div class="flex flex-col gap-4">
        {certifications.map(({ title, issuer, date, link, badge }) => (
            <a 
              href={link}
              target="_blank"
              rel="noopener noreferrer"
              class="flex flex-col sm:flex-row items-start sm:items-center gap-4 p-4 rounded-lg ring-1 ring-white/10 bg-slate-800/50 hover:bg-slate-800/90 hover:ring-white/20 transition-all"
            >
                <img 
                    src={badge} 
                    alt={`Badge de la certificación ${title}`}
                    class="size-24 flex-shrink-0"
                    loading="lazy"
                />

                <div class="flex-grow w-full">
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start w-full">
                        
                        {/* --- CAMBIO 1: El título ahora está solo, sin el icono --- */}
                        <h3 class="font-semibold text-lg text-slate-100 mb-1 sm:mb-0">
                            {title}
                        </h3>

                        {/* --- CAMBIO 2: La fecha y el icono ahora viven juntos --- */}
                        {/* Convertimos este div en un flex container para alinear la fecha y el icono */}
                        <div class="flex items-center gap-2 text-sm text-slate-400 text-left sm:justify-end min-w-24">
                            {date}
                            <Icon name="lucide:arrow-up-right" class="size-4 opacity-70" />
                        </div>
                    </div>
                    <p class="text-sky-300 text-sm mt-1 text-pretty">{issuer}</p>
                </div>
            </a>
        ))}
    </div>
</section>